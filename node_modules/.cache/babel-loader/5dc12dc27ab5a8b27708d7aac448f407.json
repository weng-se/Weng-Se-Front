{"ast":null,"code":"import _classCallCheck from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/src/app/routes/Remises/index.js\";\nimport React from 'react';\nimport CardBox from 'components/CardBox/index';\nimport { withStyles } from '@material-ui/core/styles';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Moment from 'react-moment';\nimport Chip from '@material-ui/core/Chip';\nimport FaceIcon from '@material-ui/icons/Face';\nimport DoneIcon from '@material-ui/icons/Done'; // import IntlMessages from '../Customers/node_modules/util/IntlMessages';\n// import ContainerHeader from '../Customers/node_modules/components/ContainerHeader/index';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '16%',\n      flexShrink: 0\n    },\n    title: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '16%',\n      flexShrink: 0,\n      fontWeight: 'bold'\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '14.28%',\n      flexShrink: 0,\n      color: theme.palette.text.secondary\n    }\n  };\n};\n\nvar Remises =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Remises, _React$Component);\n\n  function Remises() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Remises);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Remises)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      expanded: null,\n      data: []\n    };\n\n    _this.handleChange = function (panel) {\n      return function (event, expanded) {\n        _this.setState({\n          expanded: expanded ? panel : false\n        });\n      };\n    };\n\n    _this.fetchData = function () {\n      fetch('http://localhost:4000/api/remises?filter[include]=checks').then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        _this.setState({\n          data: data\n        });\n      });\n    };\n\n    _this.getStatusChip = function (status) {\n      var color;\n\n      switch (status) {\n        case 'En attente':\n          color = \"secondary\";\n          break;\n\n        case 'Partiel':\n          color = \"default\";\n          break;\n\n        case 'Validee':\n          color = \"primary\";\n          break;\n      }\n\n      return React.createElement(Chip, {\n        icon: React.createElement(FaceIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }),\n        label: status,\n        clickable: true,\n        color: color,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Remises, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var expanded = this.state.expanded;\n      var data = this.state.data;\n      return React.createElement(\"div\", {\n        className: \"app-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row animated slideInUpTiny animation-duration-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(CardBox, {\n        styleName: \"col-12\",\n        cardStyle: \" p-0\",\n        headerOutside: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(ExpansionPanelSummary, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Numero\"), React.createElement(Typography, {\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Banque\"), React.createElement(Typography, {\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Montant\"), React.createElement(Typography, {\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Nombre de cheques\"), React.createElement(Typography, {\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Status\"), React.createElement(Typography, {\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Date de remise\")), data.map(function (remise, index) {\n        return React.createElement(ExpansionPanel, {\n          expanded: expanded === index,\n          onChange: _this2.handleChange(index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(ExpansionPanelSummary, {\n          expandIcon: React.createElement(ExpandMoreIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          className: classes.heading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, remise.number), React.createElement(Typography, {\n          className: classes.heading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, remise.bank), React.createElement(Typography, {\n          className: classes.heading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, remise.amount), React.createElement(Typography, {\n          className: classes.heading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, remise.numberCheck), React.createElement(Typography, {\n          className: classes.heading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, _this2.getStatusChip(remise.status)), React.createElement(Typography, {\n          className: classes.heading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, React.createElement(Moment, {\n          format: \"DD/MM/YYYY\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, remise.issuedDate))), remise.checks.map(function (check) {\n          return React.createElement(ExpansionPanelDetails, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, React.createElement(Typography, {\n            className: classes.secondaryHeading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, check.number), React.createElement(Typography, {\n            className: classes.secondaryHeading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, check.bank), React.createElement(Typography, {\n            className: classes.secondaryHeading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }, check.amount), React.createElement(Typography, {\n            className: classes.secondaryHeading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, check.status), React.createElement(Typography, {\n            className: classes.secondaryHeading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, React.createElement(Moment, {\n            format: \"DD/MM/YYYY\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, check.issuedDate)), React.createElement(Typography, {\n            className: classes.secondaryHeading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, React.createElement(Moment, {\n            format: \"DD/MM/YYYY\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }, check.cashingDateDesired)), React.createElement(Typography, {\n            className: classes.secondaryHeading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          }, check.comment));\n        }));\n      })))));\n    }\n  }]);\n\n  return Remises;\n}(React.Component);\n\nexport default withStyles(styles)(Remises);","map":{"version":3,"sources":["/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/src/app/routes/Remises/index.js"],"names":["React","CardBox","withStyles","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","Typography","ExpandMoreIcon","Moment","Chip","FaceIcon","DoneIcon","styles","theme","root","width","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","title","fontWeight","secondaryHeading","color","palette","text","secondary","Remises","state","expanded","data","handleChange","panel","event","setState","fetchData","fetch","then","r","json","getStatusChip","status","classes","props","map","remise","index","number","bank","amount","numberCheck","issuedDate","checks","check","cashingDateDesired","comment","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport CardBox from 'components/CardBox/index';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Moment from 'react-moment';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n// import IntlMessages from '../Customers/node_modules/util/IntlMessages';\r\n// import ContainerHeader from '../Customers/node_modules/components/ContainerHeader/index';\r\n\r\n\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    heading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      flexBasis: '16%',\r\n      flexShrink: 0,\r\n    },\r\n    title: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '16%',\r\n        flexShrink: 0,\r\n        fontWeight: 'bold'\r\n    },\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      flexBasis: '14.28%',\r\n        flexShrink: 0,\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  });\r\n\r\n\r\nclass Remises extends React.Component {\r\n\r\n    state = {\r\n        expanded: null,\r\n        data: []\r\n      };\r\n\r\n      componentDidMount(){\r\n        this.fetchData();\r\n      }\r\n    \r\n      handleChange = panel => (event, expanded) => {\r\n        this.setState({\r\n          expanded: expanded ? panel : false,\r\n        });\r\n      };\r\n    \r\n      fetchData = () => {\r\n        fetch('http://localhost:4000/api/remises?filter[include]=checks')\r\n        .then( r => r.json() )\r\n        .then( data => {\r\n          this.setState({data});\r\n        });\r\n      }\r\n\r\n      getStatusChip = (status) => {\r\n          let color\r\n        switch (status) {\r\n            case 'En attente':\r\n              color = \"secondary\"\r\n              break;\r\n            case 'Partiel':\r\n              color = \"default\"\r\n              break;\r\n            case 'Validee':\r\n              color = \"primary\"\r\n              break;\r\n          }\r\n          return <Chip\r\n          icon={<FaceIcon />}\r\n          label={status}\r\n          clickable\r\n          color={color}\r\n        />\r\n      }\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { expanded } = this.state;\r\n        const { data } = this.state;\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                {/* <ContainerHeader match={this.props.match} title={<IntlMessages id=\"pages.listRemises\"/>}/> */}\r\n                <div className=\"row animated slideInUpTiny animation-duration-3\">\r\n                    <CardBox styleName=\"col-12\" cardStyle=\" p-0\" headerOutside>\r\n                         <div className={classes.root}>\r\n                         <ExpansionPanelSummary>\r\n                           <Typography className={classes.title}>Numero</Typography>\r\n                           <Typography className={classes.title}>Banque</Typography>\r\n                           <Typography className={classes.title}>Montant</Typography>\r\n                           <Typography className={classes.title}>Nombre de cheques</Typography>\r\n                           <Typography className={classes.title}>Status</Typography>\r\n                           <Typography className={classes.title}>Date de remise</Typography>\r\n                         </ExpansionPanelSummary>\r\n                         {data.map((remise, index) => \r\n                         <ExpansionPanel expanded={expanded === index} onChange={this.handleChange(index)}>\r\n                         <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                           <Typography className={classes.heading}>{remise.number}</Typography>\r\n                           <Typography className={classes.heading}>{remise.bank}</Typography>\r\n                           <Typography className={classes.heading}>{remise.amount}</Typography>\r\n                           <Typography className={classes.heading}>{remise.numberCheck}</Typography>\r\n                           <Typography className={classes.heading}>\r\n                                {this.getStatusChip(remise.status)}\r\n                            </Typography>\r\n                           <Typography className={classes.heading}><Moment format=\"DD/MM/YYYY\">{remise.issuedDate}</Moment></Typography>\r\n                         </ExpansionPanelSummary>\r\n                         \r\n                         {remise.checks.map(check => \r\n                            <ExpansionPanelDetails>\r\n                            <Typography className={classes.secondaryHeading}>\r\n                                {check.number}\r\n                            </Typography>\r\n                            <Typography className={classes.secondaryHeading}>\r\n                                {check.bank}\r\n                            </Typography>\r\n                            <Typography className={classes.secondaryHeading}>\r\n                                {check.amount}\r\n                            </Typography>\r\n                            <Typography className={classes.secondaryHeading}>\r\n                                {check.status}\r\n                            </Typography>\r\n                            <Typography className={classes.secondaryHeading}>\r\n                                <Moment format=\"DD/MM/YYYY\">{check.issuedDate}</Moment>\r\n                            </Typography>\r\n                            <Typography className={classes.secondaryHeading}>\r\n                                <Moment format=\"DD/MM/YYYY\">{check.cashingDateDesired}</Moment>\r\n                            </Typography>\r\n                            <Typography className={classes.secondaryHeading}>\r\n                                {check.comment}\r\n                            </Typography>\r\n                            </ExpansionPanelDetails>\r\n                        )}\r\n                       </ExpansionPanel>\r\n                            )}\r\n      </div>\r\n                    </CardBox>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Remises);"]},"metadata":{},"sourceType":"module"}