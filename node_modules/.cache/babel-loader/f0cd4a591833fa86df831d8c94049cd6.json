{"ast":null,"code":"import _classCallCheck from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/src/containers/App.js\";\nimport React, { Component } from 'react';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { IntlProvider } from 'react-intl';\nimport \"assets/vendors/style\";\nimport defaultTheme from './themes/defaultTheme';\nimport AppLocale from '../lngProvider';\nimport MainApp from 'app/index';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport { setInitUrl } from '../actions/Auth';\nimport RTL from 'util/RTL';\nimport asyncComponent from 'util/asyncComponent';\n\nvar RestrictedRoute = function RestrictedRoute(_ref) {\n  var Component = _ref.component,\n      authUser = _ref.authUser,\n      rest = _objectWithoutProperties(_ref, [\"component\", \"authUser\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      return authUser ? React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      })) : React.createElement(Redirect, {\n        to: {\n          pathname: '/signin',\n          state: {\n            from: props.location\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }));\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__ = true;\n\n      if (this.props.initURL === '') {\n        this.props.setInitUrl(this.props.history.location.pathname);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          match = _this$props.match,\n          location = _this$props.location,\n          locale = _this$props.locale,\n          authUser = _this$props.authUser,\n          initURL = _this$props.initURL,\n          isDirectionRTL = _this$props.isDirectionRTL;\n\n      if (location.pathname === '/') {\n        if (authUser === null) {\n          return React.createElement(Redirect, {\n            to: '/signin',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          });\n        } else if (initURL === '' || initURL === '/' || initURL === '/signin') {\n          return React.createElement(Redirect, {\n            to: '/app/Dashboard/Reporting1',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(Redirect, {\n            to: initURL,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          });\n        }\n      }\n\n      var applyTheme = createMuiTheme(defaultTheme);\n\n      if (isDirectionRTL) {\n        applyTheme.direction = 'rtl';\n        document.body.classList.add('rtl');\n      } else {\n        document.body.classList.remove('rtl');\n        applyTheme.direction = 'ltr';\n      }\n\n      var currentAppLocale = AppLocale[locale.locale];\n      return React.createElement(MuiThemeProvider, {\n        theme: applyTheme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(MuiPickersUtilsProvider, {\n        utils: MomentUtils,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(IntlProvider, {\n        locale: currentAppLocale.locale,\n        messages: currentAppLocale.messages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(RTL, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(RestrictedRoute, {\n        path: \"\".concat(match.url, \"app\"),\n        authUser: authUser,\n        component: MainApp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signin\",\n        component: SignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signup\",\n        component: SignUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: asyncComponent(function () {\n          return import('components/Error404');\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var settings = _ref2.settings,\n      auth = _ref2.auth;\n  var sideNavColor = settings.sideNavColor,\n      locale = settings.locale,\n      isDirectionRTL = settings.isDirectionRTL;\n  var authUser = auth.authUser,\n      initURL = auth.initURL;\n  return {\n    sideNavColor: sideNavColor,\n    locale: locale,\n    isDirectionRTL: isDirectionRTL,\n    authUser: authUser,\n    initURL: initURL\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setInitUrl: setInitUrl\n})(App);","map":{"version":3,"sources":["/Users/MouhcinePRO/Desktop/Weng Se New/Weng-Se-Front/src/containers/App.js"],"names":["React","Component","createMuiTheme","MuiThemeProvider","MomentUtils","MuiPickersUtilsProvider","Redirect","Route","Switch","connect","IntlProvider","defaultTheme","AppLocale","MainApp","SignIn","SignUp","setInitUrl","RTL","asyncComponent","RestrictedRoute","component","authUser","rest","props","pathname","state","from","location","App","window","__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__","initURL","history","match","locale","isDirectionRTL","applyTheme","direction","document","body","classList","add","remove","currentAppLocale","messages","url","mapStateToProps","settings","auth","sideNavColor"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\r\nimport MomentUtils from '@date-io/moment';\r\nimport {MuiPickersUtilsProvider} from 'material-ui-pickers';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {IntlProvider} from 'react-intl'\r\nimport \"assets/vendors/style\"\r\nimport defaultTheme from './themes/defaultTheme';\r\nimport AppLocale from '../lngProvider';\r\n\r\nimport MainApp from 'app/index';\r\nimport SignIn from './SignIn';\r\nimport SignUp from './SignUp';\r\nimport {setInitUrl} from '../actions/Auth';\r\nimport RTL from 'util/RTL';\r\nimport asyncComponent from 'util/asyncComponent';\r\n\r\nconst RestrictedRoute = ({component: Component, authUser, ...rest}) =>\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      authUser\r\n        ? <Component {...props} />\r\n        : <Redirect\r\n          to={{\r\n            pathname: '/signin',\r\n            state: {from: props.location}\r\n          }}\r\n        />}\r\n  />;\r\n\r\nclass App extends Component {\r\n\r\n  componentWillMount() {\r\n    window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__ = true;\r\n    if (this.props.initURL === '') {\r\n      this.props.setInitUrl(this.props.history.location.pathname);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {match, location, locale, authUser, initURL, isDirectionRTL} = this.props;\r\n    if (location.pathname === '/') {\r\n      if (authUser === null) {\r\n        return ( <Redirect to={'/signin'}/> );\r\n      } else if (initURL === '' || initURL === '/' || initURL === '/signin') {\r\n        return ( <Redirect to={'/app/Dashboard/Reporting1'}/> );\r\n      } else {\r\n        return ( <Redirect to={initURL}/> );\r\n      }\r\n    }\r\n    const applyTheme = createMuiTheme(defaultTheme);\r\n\r\n    if (isDirectionRTL) {\r\n      applyTheme.direction = 'rtl';\r\n      document.body.classList.add('rtl')\r\n    } else {\r\n      document.body.classList.remove('rtl');\r\n      applyTheme.direction = 'ltr';\r\n    }\r\n\r\n    const currentAppLocale = AppLocale[locale.locale];\r\n    return (\r\n      <MuiThemeProvider theme={applyTheme}>\r\n        <MuiPickersUtilsProvider utils={MomentUtils}>\r\n          <IntlProvider\r\n            locale={currentAppLocale.locale}\r\n            messages={currentAppLocale.messages}>\r\n            <RTL>\r\n              <div className=\"app-main\">\r\n                <Switch>\r\n                  <RestrictedRoute path={`${match.url}app`} authUser={authUser}\r\n                                   component={MainApp}/>\r\n                  <Route path='/signin' component={SignIn}/>\r\n                  <Route path='/signup' component={SignUp}/>\r\n                  <Route\r\n                    component={asyncComponent(() => import('components/Error404'))}/>\r\n                </Switch>\r\n              </div>\r\n            </RTL>\r\n          </IntlProvider>\r\n        </MuiPickersUtilsProvider>\r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({settings, auth}) => {\r\n  const {sideNavColor, locale, isDirectionRTL} = settings;\r\n  const {authUser, initURL} = auth;\r\n  return {sideNavColor, locale, isDirectionRTL, authUser, initURL}\r\n};\r\n\r\nexport default connect(mapStateToProps, {setInitUrl})(App);\r\n\r\n"]},"metadata":{},"sourceType":"module"}